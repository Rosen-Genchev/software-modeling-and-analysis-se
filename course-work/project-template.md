# Описание на проект: Spark

*   **Версия:** 2.56.2
*   **Дата:** 28.11.2025г.

---

### 1. Резюме на проекта

| Цел на проекта | Целева аудитория | Основни резултати |
| :--- | :--- | :--- |
| *Какъв проблем решава проектът?* | *Кой ще използва продукта?* | *Какво ще бъде създадено?* |
| *Да се осигури удобен, екологичен и достъпен начин за краткосрочен наем на електромобили в градска среда.* | *Градски жители, туристи, корпоративни клиенти, които търсят алтернатива на личния автомобил.* | *Мобилно приложение и уеб платформа за наем на електромобили, система за управление на автопарка и административен панел.*|

---

### 2. Обхват и основни функционалности
*Списък с ключовите възможности, които системата ще предоставя.*

*   **Управление на потребители:**
    *   Регистрация чрез имейл, телефон или социални мрежи.

    *  Потвърждение на шофьорска книжка и идентичност.

    *  Потребителски профил с история на наеми и плащания.
*   **Каталог на обекти:**
    *  Преглед на налични електромобили в реално време върху карта.

    *  Филтриране по модел, заряд на батерията и разстояние.

    *  Подробна информация за всяко превозно средство.
*   **Резервационна система:**
    *  Резервиране на автомобил за определен период.

    *  Отключване и заключване чрез мобилното приложение.

    *  Автоматично приключване на наема след освобождаване на автомобила.
*   **Плащания:**
    *   Интеграция с онлайн разплащателни системи (карти, Apple Pay, Google Pay).

    *  Изчисляване на тарифа според времето и изминатото разстояние.

    *  Издаване на фактури и разписки автоматично.
*   **Административен панел:**
    *   Управление на потребители и превозни средства.

    *  Проследяване на активни наеми и местоположение на автомобили.

    *  Отчети за приходи, използваемост и поддръжка.

---

### 3. Технологичен стек
*Основните технологии, които ще бъдат използвани.*

*   **Сървърна част (Backend):** .NET 8 (C#), ASP.NET Core Web API
*   **Клиентска част (Frontend):** React (TypeScript), React Native (за мобилното приложение)
*   **База данни (Database):** PostgreSQL
*   **Допълнителни технологии:** Redis (кеширане), Azure Maps API, Stripe/Adyen (плащания), MQTT или SignalR (реално време)

---

### 4. Основни бизнес правила
*Най-важните правила, които управляват логиката на системата.*

#### 4.1. Правила за достъп и роли

*   **Гост (нерегистриран):**Може да разглежда карта и налични автомобили, но не може да резервира.
*   **Потребител (регистриран):** Може да резервира и управлява наеми, да преглежда история и плащания.
*   **Собственик на обект:**Управлява автопарка, следи за зареждане, техническо състояние и локации.
*   **Администратор:** Пълен достъп до всички функции, включително отчети, конфигурации и потребителски данни.

#### 4.2. Ключови бизнес правила

*   **Наеми:**
    *   Наем може да се стартира само при наличен баланс или валидна платежна карта.
    *   Минимална продължителност на наем – 15 минути.
    *   Автомобилът трябва да бъде оставен в разрешена зона за паркиране на Spark.
    *   При превишаване на времето на наема се начисляват допълнителни такси.
*   **Плащания:**
    *   Таксуването се извършва автоматично при приключване на наема.
    *   Системата изчислява крайната сума на база време, изминати километри и допълнителни такси.
    *   В случай на нарушение (например паркиране извън зона) се начислява глоба.
*   **Ценообразуване:**
    *   Цените се определят динамично според модела и натовареността.
    *   Възможни са промоции, отстъпки и абонаментни пакети.
*   **Зареждане и поддръжка::**
    *   Флийт мениджърът получава известия за автомобили с нисък заряд.
    *   Автомобили в поддръжка не се показват на картата за наем.
#### 4.3. Правила за данните

*   **Потребители:** Уникален телефонен номер и имейл за всеки профил.
*   **Резервации:** Всяко превозно средство има уникален идентификатор и GPS координати.
*   **Обекти:** Не може да има повече от един активен наем за един и същи потребител.
*   **Плащания:** Всички транзакции се записват с времеви печат и статус на плащането.

---
